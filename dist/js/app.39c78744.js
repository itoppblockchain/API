(function(t){function e(e){for(var i,d,n=e[0],l=e[1],o=e[2],m=0,u=[];m<n.length;m++)d=n[m],s[d]&&u.push(s[d][0]),s[d]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);c&&c(e);while(u.length)u.shift()();return r.push.apply(r,o||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],i=!0,n=1;n<a.length;n++){var l=a[n];0!==s[l]&&(i=!1)}i&&(r.splice(e--,1),t=d(d.s=a[0]))}return t}var i={},s={app:0},r=[];function d(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,d),a.l=!0,a.exports}d.m=t,d.c=i,d.d=function(t,e,a){d.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},d.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},d.t=function(t,e){if(1&e&&(t=d(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(d.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)d.d(a,i,function(e){return t[e]}.bind(null,i));return a},d.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return d.d(e,"a",e),e},d.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},d.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var o=0;o<n.length;o++)e(n[o]);var c=l;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"56d7":function(t,e,a){"use strict";a.r(e);var i=a("2b0e"),s=a("bb71");a("da64");i["a"].use(s["a"],{iconfont:"md",theme:{primary:"#9652ff",success:"#3cd1c2",info:"#ffaa2c",error:"#f83e70"}});var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",{staticClass:"white"},[a("Navbar"),a("v-content",[a("router-view")],1)],1)},d=[],n={name:"App",data(){return{}}},l=n,o=a("2877"),c=a("6544"),m=a.n(c),u=a("7496"),v=a("549c"),p=Object(o["a"])(l,r,d,!1,null,null,null);p.options.__file="App.vue";var h=p.exports;m()(p,{VApp:u["a"],VContent:v["a"]});var b=a("8c4f"),I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("qrcode-vue",{attrs:{value:t.value,size:t.size,level:"H"}})],1)},g=[],f=a("d7b0"),x={data(){return{value:"https://example.com",size:300}},components:{QrcodeVue:f["a"]}},T=x,R=Object(o["a"])(T,I,g,!1,null,null,null);R.options.__file="Create.vue";var y=R.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Traceable Parts List")]),a("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),a("v-col",{attrs:{cols:"6",sm:"6"}},[a("v-select",{attrs:{items:t.orgs,label:"Connected as:",outlined:""},on:{change:function(e){t.changedOrg(t.selectedorg)}},model:{value:t.selectedorg,callback:function(e){t.selectedorg=e},expression:"selectedorg"}})],1),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"indigo",dark:""},slot:"activator"},[t._v("Create Part")]),a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"TRUID",disabled:"true"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"GTID"},model:{value:t.editedItem.gTID,callback:function(e){t.$set(t.editedItem,"gTID",e)},expression:"editedItem.gTID"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Batch Number"},model:{value:t.editedItem.batchNumber,callback:function(e){t.$set(t.editedItem,"batchNumber",e)},expression:"editedItem.batchNumber"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Quantity"},model:{value:t.editedItem.quantity,callback:function(e){t.$set(t.editedItem,"quantity",e)},expression:"editedItem.quantity"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"CoC"},model:{value:t.editedItem.coC,callback:function(e){t.$set(t.editedItem,"coC",e)},expression:"editedItem.coC"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Submit")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogMaintain,callback:function(e){t.dialogMaintain=e},expression:"dialogMaintain"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s("Maintain TRU"))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"TRUID",disabled:"true"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"GTID",disabled:"true"},model:{value:t.editedItem.gTID,callback:function(e){t.$set(t.editedItem,"gTID",e)},expression:"editedItem.gTID"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Batch Number",disabled:"true"},model:{value:t.editedItem.batchNumber,callback:function(e){t.$set(t.editedItem,"batchNumber",e)},expression:"editedItem.batchNumber"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Quantity",disabled:"true"},model:{value:t.editedItem.quantity,callback:function(e){t.$set(t.editedItem,"quantity",e)},expression:"editedItem.quantity"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"CoC",disabled:"true"},model:{value:t.editedItem.coC,callback:function(e){t.$set(t.editedItem,"coC",e)},expression:"editedItem.coC"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Maintenance CoC"},model:{value:t.editedItem.newcoC,callback:function(e){t.$set(t.editedItem,"newcoC",e)},expression:"editedItem.newcoC"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeMaintain(e)}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.maintainTRU(e)}}},[t._v("Submit")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogSplit,callback:function(e){t.dialogSplit=e},expression:"dialogSplit"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s("Split TRU"))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"TRUID",disabled:"true"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"GTID",disabled:"true"},model:{value:t.editedItem.gTID,callback:function(e){t.$set(t.editedItem,"gTID",e)},expression:"editedItem.gTID"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Batch Number",disabled:"true"},model:{value:t.editedItem.batchNumber,callback:function(e){t.$set(t.editedItem,"batchNumber",e)},expression:"editedItem.batchNumber"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Quantity"},model:{value:t.editedItem.quantity,callback:function(e){t.$set(t.editedItem,"quantity",e)},expression:"editedItem.quantity"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Split Bat. Quantity"},model:{value:t.newBatchQuantity,callback:function(e){t.newBatchQuantity=e},expression:"newBatchQuantity"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeSplit(e)}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.splitTRU(e)}}},[t._v("Submit")])],1)],1)],1)],1),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.TRUs,"item-key":"name"},scopedSlots:t._u([{key:"items",fn:function(e){return[a("td",[t._v(t._s(e.item.name))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.quantity))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.gTID))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.batchNumber))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.expiryDate))]),a("td",{staticClass:"text-xs-center"},[t._v(t._s(e.item.coC))]),a("td",{staticClass:"justify-center layout px-0"},[a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"blue"},on:{click:function(a){t.splitItem(e.item)}}},[t._v("\n            call_split\n          ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"blue"},on:{click:function(a){t.maintainItem(e.item)}}},[t._v("\n            construction\n          ")]),a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"blue"},on:{click:function(a){t.editItem(e.item)}}},[t._v("\n            edit\n          ")]),a("v-btn",{attrs:{icon:"",color:"white",to:{name:"Trace",params:{orgid:t.selectedorg,ownerorgid:t.selectedorg,truid:e.item.name}}}},[a("v-icon",{staticClass:"mr-2",attrs:{to:"/trace",small:"",color:"success"}},[t._v("\n            history\n          ")])],1),a("v-btn",{attrs:{icon:"",color:"white",to:{name:"QR",params:{orgid:t.selectedorg,ownerorgid:t.selectedorg,truid:e.item.name}}}},[a("v-icon",{staticClass:"mr-2",attrs:{small:"",color:"black"}},[t._v("\n            qr_code\n          ")])],1),a("v-icon",{attrs:{small:"",color:"error"},on:{click:function(a){t.deleteItem(e.item)}}},[t._v("\n            delete\n          ")])],1)]}}])},[t._v("\n    >\n      \n      "),a("template",{slot:"no-data"},[a("v-btn",{attrs:{color:"primary"},on:{click:t.queryAll}},[t._v("Reset")])],1)],2)],1)},D=[],w=a("bc3a"),_=a.n(w),k=()=>{return _.a.create({baseURL:"http://localhost:3000",timeout:1e5})},O={queryAllTRU(){return k().get("queryAllTRU")},createTRU(t,e,a,i,s,r){return k().post("createTRU",{GTIN:t,Quantity:e,BatchNumber:a,TRUExpiryDate:s,CoCID:i,TraceHash:"NA",CoCHash:"NA",ReleaseFlag:"NA",RequestFlag:"NA",ORGID:r})},splitTRU(t,e,a){return k().post("splitTRU",{TRUID:t,Quantity:e,ORGID:a})},updateTRU(t,e,a,i){return k().post("updateTRU",{TRUID:t,PropName:e,PropValue:a,ORGID:i})},changeOWN(t,e,a){return k().post("changeOWN",{OWNER:t,TRUID:e,ORGID:a})},queryTRU(t){return k().post("queryTRU",{TRUID:t})},queryTRACE(t,e){return k().post("queryTRACE",{ORGID:t,TRUID:e})},querySCA(t){return k().post("querySCA",{ORGID:t})}},U={name:"response",data:()=>({dialog:!1,response:{},headers:[{text:"Part ID",align:"left",sortable:!0,value:"PartName",width:100},{text:"Quantity",value:"quantity",align:"center",width:200},{text:"GTID",value:"gTID",align:"center",width:200},{text:"Batch Number",value:"batchNumber",align:"center",width:200},{text:"CoC",value:"coC",align:"right",width:200}],orgs:["ORG1","ORG2","ORG3","ORG4","ORG5","ORG6"],TRUs:[],editedIndex:-1,editedItem:{name:"",quantity:"20",gTID:"H298",batchNumber:"",coC:"",newcoC:""},defaultItem:{name:"",quantity:"0",gTID:"",batchNumber:"",coC:"",newcoC:""}}),components:{},computed:{formTitle(){return-1===this.editedIndex?"New TRU":"Update TRU"}},watch:{dialog(t){t||this.close()}},created(){this.selectedorg=this.$route.params.orgid,this.queryAll()},methods:{async queryAll(){this.response=null;const t=await O.queryAllTRU();var e=0;for(e=0;e<t.data.length;e++)this.TRUs.push({name:t.data[e].Record.TRUID,quantity:t.data[e].Record.Quantity,gTID:t.data[e].Record.GTIN,batchNumber:t.data[e].Record.BatchNumber,coC:t.data[e].Record.CoCID})},async editItem(t){this.editedIndex=this.TRUs.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},async maintainItem(t){this.editedIndex=this.TRUs.indexOf(t),this.editedItem=Object.assign({},t),this.dialogMaintain=!0},async splitItem(t){this.editedIndex=this.TRUs.indexOf(t),this.editedItem=Object.assign({},t),this.dialogSplit=!0},deleteItem(t){const e=this.TRUs.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.TRUs.splice(e,1)},async splitTRU(t){Object.assign(this.TRUs[this.editedIndex],this.editedItem);const e=O.splitTRU(this.editedItem.name,this.newBatchQuantity,this.selectedorg);this.response=e,this.closeSplit()},async maintainTRU(t){Object.assign(this.TRUs[this.editedIndex],this.editedItem),this.editedItem.coC=this.editedItem.coC+"/"+this.editedItem.newcoC;const e=O.updateTRU(this.editedItem.name,"CoC",this.editedItem.coC,this.selectedorg);this.response=e,this.closeMaintain()},closeSplit(){this.dialogSplit=!1,setTimeout(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},300)},closeMaintain(){this.dialogMaintain=!1,setTimeout(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},300)},async sendTRU(t){this.dialogQR=!0},close(){this.dialog=!1,setTimeout(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1},300)},async save(){if(this.editedIndex>-1){Object.assign(this.TRUs[this.editedIndex],this.editedItem);const t=O.updateTRU(this.editedItem.name,"BatchNumber",this.editedItem.batchNumber,this.selectedorg);this.response=t}else{this.response=null;const t=O.createTRU(this.editedItem.gTID,this.editedItem.quantity,this.editedItem.batchNumber,this.editedItem.coC,this.editedItem.name,this.selectedorg);this.response=t}this.close()},changedOrg(t){this.$router.push({name:"listParts",params:{orgid:t}})},async createTRU(){this.response=null;const t=O.createTRU(this.editedItem.gTID,this.editedItem.batchNumber,this.editedItem.coC);this.response=t,this.window.location.reload}}},S=U,N=a("8336"),q=a("b0af"),$=a("99d9"),V=a("12b2"),E=a("a523"),G=a("8fea"),P=a("169a"),Q=a("ce7e"),B=a("0e8f"),M=a("132d"),A=a("a722"),j=a("b56d"),F=a("9910"),L=a("2677"),z=a("71d9"),H=a("2a7f"),W=Object(o["a"])(S,C,D,!1,null,null,null);W.options.__file="List.vue";var Y=W.exports;m()(W,{VBtn:N["a"],VCard:q["a"],VCardActions:$["a"],VCardText:$["b"],VCardTitle:V["a"],VContainer:E["a"],VDataTable:G["a"],VDialog:P["a"],VDivider:Q["a"],VFlex:B["a"],VIcon:M["a"],VLayout:A["a"],VSelect:j["a"],VSpacer:F["a"],VTextField:L["a"],VToolbar:z["a"],VToolbarTitle:H["a"]});var J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("v-container",{staticStyle:{"max-width":"700px"}},[a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s("Update TRU"))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Part ID",disabled:"true"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"GTID",disabled:"true"},model:{value:t.editedItem.gTID,callback:function(e){t.$set(t.editedItem,"gTID",e)},expression:"editedItem.gTID"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Batch Number"},model:{value:t.editedItem.batchNumber,callback:function(e){t.$set(t.editedItem,"batchNumber",e)},expression:"editedItem.batchNumber"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Quantity",disabled:"true"},model:{value:t.editedItem.quantity,callback:function(e){t.$set(t.editedItem,"quantity",e)},expression:"editedItem.quantity"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"CoC",disabled:"true"},model:{value:t.editedItem.coC,callback:function(e){t.$set(t.editedItem,"coC",e)},expression:"editedItem.coC"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.save(e)}}},[t._v("Submit")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogMaintain,callback:function(e){t.dialogMaintain=e},expression:"dialogMaintain"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s("Maintain TRU"))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"TRUID",disabled:"true"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"GTID",disabled:"true"},model:{value:t.editedItem.gTID,callback:function(e){t.$set(t.editedItem,"gTID",e)},expression:"editedItem.gTID"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Batch Number",disabled:"true"},model:{value:t.editedItem.batchNumber,callback:function(e){t.$set(t.editedItem,"batchNumber",e)},expression:"editedItem.batchNumber"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Quantity",disabled:"true"},model:{value:t.editedItem.quantity,callback:function(e){t.$set(t.editedItem,"quantity",e)},expression:"editedItem.quantity"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"CoC",disabled:"true"},model:{value:t.editedItem.coC,callback:function(e){t.$set(t.editedItem,"coC",e)},expression:"editedItem.coC"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Maintenance CoC"},model:{value:t.editedItem.newcoC,callback:function(e){t.$set(t.editedItem,"newcoC",e)},expression:"editedItem.newcoC"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeMaintain(e)}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.maintainTRU(e)}}},[t._v("Submit")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogSplit,callback:function(e){t.dialogSplit=e},expression:"dialogSplit"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s("Split TRU"))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Part ID",disabled:"true"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"GTID",disabled:"true"},model:{value:t.editedItem.gTID,callback:function(e){t.$set(t.editedItem,"gTID",e)},expression:"editedItem.gTID"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Batch Number",disabled:"true"},model:{value:t.editedItem.batchNumber,callback:function(e){t.$set(t.editedItem,"batchNumber",e)},expression:"editedItem.batchNumber"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Quantity"},model:{value:t.editedItem.quantity,callback:function(e){t.$set(t.editedItem,"quantity",e)},expression:"editedItem.quantity"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Split Bat. Quantity"},model:{value:t.editedItem.newBatchQuantity,callback:function(e){t.$set(t.editedItem,"newBatchQuantity",e)},expression:"editedItem.newBatchQuantity"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeSplit(e)}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.splitTRU(e)}}},[t._v("Submit")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialogReceive,callback:function(e){t.dialogReceive=e},expression:"dialogReceive"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s("Get Ownership of TRU"))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Part ID",disabled:"true"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),a("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[a("v-text-field",{attrs:{label:"Quantity",disabled:"true"},model:{value:t.editedItem.quantity,callback:function(e){t.$set(t.editedItem,"quantity",e)},expression:"editedItem.quantity"}})],1),a("v-card-text",[t._v("\n             You are approving the ownership of the TRU. \n            ")])],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeReceive(e)}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.receiveTRU(e)}}},[t._v("Submit")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.shipDialog,callback:function(e){t.shipDialog=e},expression:"shipDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{attrs:{"grid-list-md":""}},[a("v-layout",{attrs:{wrap:""}},[a("v-select",{attrs:{items:t.orgs,label:"Ship to:",outlined:""},model:{value:t.editedItem.shiporg1,callback:function(e){t.$set(t.editedItem,"shiporg1",e)},expression:"editedItem.shiporg1"}})],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.closeShip(e)}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.shipOrg(e)}}},[t._v("Submit")])],1)],1)],1),a("v-timeline",[a("v-timeline-item",{staticClass:"white--text mb-12",attrs:{color:"blue"}},[[a("span",[t._v("M")])],a("v-text-field",{attrs:{"hide-details":"",flat:"",label:"Send trace via email",solo:""},on:{keydown:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.comment(e):null}},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}},[[a("v-btn",{staticClass:"mx-0",attrs:{depressed:""},on:{click:t.comment}},[t._v("Send\n              ")])]],2),a("v-card",{attrs:{color:"green",dark:""}},[a("v-card-title",{staticClass:"title"},[t._v(t._s(t.editedItem.name))]),a("v-card-text",{staticClass:"white text--primary"},[a("p",[t._v("Quantity: "+t._s(t.editedItem.quantity)+" ")]),a("p",[t._v("GTIN: "+t._s(t.editedItem.gTID)+" ")]),t.owned?a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"green",dark:""},on:{click:function(e){t.editItem()}},slot:"activator"},[t._v("Update")]):t._e(),t.owned?a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"green",dark:""},on:{click:function(e){t.splitItem()}},slot:"activator"},[t._v("Split")]):t._e(),t.owned?a("v-btn",{staticClass:"mb-2",attrs:{slot:"",color:"green",dark:"",to:{name:"QR",params:{orgid:t.editedItem.org,ownerorgid:t.editedItem.ownerorg,truid:t.editedItem.name}}},slot:"default"},[t._v("\n           QR \n          ")]):t._e(),t.owned?a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"green",dark:""},on:{click:function(e){t.maintainItem()}},slot:"activator"},[t._v("Maintain")]):t._e(),t.owned?t._e():a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"green",dark:""},on:{click:function(e){t.receiveItem()}},slot:"activator"},[t._v("Receive")]),t.owned?a("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"green",dark:""},on:{click:function(e){t.shipItem()}},slot:"activator"},[t._v("Ship")]):t._e()],1)],1)],2),a("v-slide-x-transition",{attrs:{group:""}},t._l(t.timeline,function(e){return a("v-timeline-item",{key:e.id,staticClass:"mb-4",attrs:{color:"orange",small:""}},[[a("span",{class:"headline  --text",domProps:{textContent:t._s(e.time)}})],a("div",[a("v-row",{attrs:{justify:"space-between"}},[a("v-col",{staticClass:"text-right",attrs:{cols:"5"},domProps:{textContent:t._s(e.text)}})],1)],1)],2)}))],1)],1)],1)},X=[],K={data:()=>({events:[],input:null,nonce:0,dialog:!1,dialogSplit:!1,dialogReceive:!1,dialogSend:!1,shipDialog:!1,dialogMaintain:!1,orgs:["ORG1","ORG2","ORG3","ORG4","ORG5","ORG6"],released:!1,owned:!1,editedItem:{name:"wert",org:"◴",ownerorg:"◴",quantity:"◴",gTID:"◴",batchNumber:"◴",coC:"◴",newBatchQuantity:"0",newcoC:"◴",shiporg1:"◴",releaseFlag:"◴"},defaultItem:{name:"",org:"",quantity:"0",gTID:"",batchNumber:"",coC:""}}),watch:{dialog(t){t||this.close()},dialogSplit(t){t||this.close()},dialogReceive(t){t||this.close()},dialogSend(t){t||this.close()}},computed:{timeline(){return this.events.slice().reverse()}},created(){let t=this.$route.params.orgid,e=this.$route.params.ownerorgid,a=this.$route.params.truid;t==e&&(this.owned=!0),this.queryTRU(t,e,a),this.queryT(e,a)},methods:{async queryTRU(t,e,a){this.response=null,this.editedItem.ownerorg=e,this.editedItem.org=t,this.editedItem.name=a;let i=a;const s=await O.queryTRU(i);this.editedItem.quantity=s.data.Quantity,this.editedItem.gTID=s.data.GTIN,this.editedItem.batchNumber=s.data.BatchNumber,this.editedItem.coC=s.data.CoCID,this.editedItem.releaseFlag=s.data.ReleaseFlag,this.editedItem.org==this.editedItem.releaseFlag&&(this.released=!0)},async queryT(t,e){(new Date).toTimeString();this.response=null;let a=t,i=e;const s=await O.queryTRACE(a,i);var r=0;for(r=0;r<s.data.length;r++){var d="";"Produce"==s.data[r].Record.EventType||"1"==s.data[r].Record.EventType?d="Part with "+s.data[r].Record.TraceTRUID+" is produced by "+s.data[r].Record.TraceOwnerOrgID+". CoC:"+s.data[r].Record.EventID:"Batch"==s.data[r].Record.EventType?d="Part "+s.data[r].Record.TraceTRUID+" BATCH NUMBER is updated by "+s.data[r].Record.TraceOwnerOrgID+". Previous batch number:"+s.data[r].Record.EventID:"CoC"==s.data[r].Record.EventType?d="Part "+s.data[r].Record.TraceTRUID+" COC is updated by "+s.data[r].Record.TraceOwnerOrgID+". Data:"+s.data[r].Record.EventID:"ExpiryDate"==s.data[r].Record.EventType?d="Part "+s.data[r].Record.TraceTRUID+" EXPIRY DATE is updated "+s.data[r].Record.TraceOwnerOrgID+". Data:"+s.data[r].Record.EventID:"Quantity Update"==s.data[r].Record.EventType?d="Part "+s.data[r].Record.TraceTRUID+" QUANTITY "+s.data[r].Record.TraceOwnerOrgID+". Data:"+s.data[r].Record.EventID:"Order"==s.data[r].Record.EventType?d="Part "+s.data[r].Record.TraceTRUID+" is ORDERED by "+s.data[r].Record.TraceOwnerOrgID+". Data:"+s.data[r].Record.EventID:"Ship"==s.data[r].Record.EventType?d="Part "+s.data[r].Record.TraceTRUID+" is SHIPPED from "+s.data[r].Record.TraceOwnerOrgID+". Shipped to:"+s.data[r].Record.EventID:"Split-Original"==s.data[r].Record.EventType?d="Part "+s.data[r].Record.TraceTRUID+" is SPLIT by "+s.data[r].Record.TraceOwnerOrgID+". Split TRU ID: TRU"+s.data[r].Record.EventID:"Split-New"==s.data[r].Record.EventType?d="Part "+s.data[r].Record.TraceTRUID+" is SPLIT by "+s.data[r].Record.TraceOwnerOrgID+". Original TRU ID:"+s.data[r].Record.EventID:"Ownership"==s.data[r].Record.EventType&&(d="Part "+s.data[r].Record.TraceTRUID+" is OWNED by "+s.data[r].Record.TraceOwnerOrgID+". Previous owner:"+s.data[r].Record.EventID),this.events.push({id:this.nonce++,text:d,time:s.data[r].Record.Date})}},comment(){const t=(new Date).toTimeString();this.events.push({id:this.nonce++,text:this.input,time:t.replace(/:\d{2}\sGMT-\d{4}\s\((.*)\)/,(t,e,a)=>{return` ${e.split(" ").map(t=>t.charAt(0)).join("")}`})}),this.input=null},editItem(){this.dialog=!0},splitItem(){this.dialogSplit=!0},maintainItem(){this.dialogMaintain=!0},receiveItem(){this.dialogReceive=!0},shipItem(){this.shipDialog=!0},async save(){const t=O.updateTRU(this.editedItem.name,"BatchNumber",this.editedItem.batchNumber,this.editedItem.org);this.response=t,this.close()},async receiveTRU(){const t=O.changeOWN(this.editedItem.ownerorg,this.editedItem.name,this.editedItem.org);this.response=t,this.closeReceive(),this.$router.push({name:"Trace",params:{orgid:this.editedItem.org,ownerorgid:this.editedItem.org,truid:this.editedItem.name}})},async splitTRU(){const t=O.splitTRU(this.editedItem.name,this.editedItem.newBatchQuantity,this.editedItem.org);this.response=t,this.closeSplit()},async maintainTRU(t){this.editedItem.coC=this.editedItem.coC+"/"+this.editedItem.newcoC;const e=O.updateTRU(this.editedItem.name,"CoC",this.editedItem.coC,this.editedItem.org);this.response=e,this.closeMaintain()},async shipOrg(){const t=O.updateTRU(this.editedItem.name,"ReleaseFlag",this.editedItem.shiporg1,this.editedItem.org);this.response=t,this.closeShip(),this.$router.push({name:"QR",params:{orgid:this.editedItem.shiporg1,ownerorgid:this.editedItem.ownerorg,truid:this.editedItem.name}})},closeShip(){this.shipDialog=!1},close(){this.dialog=!1},closeSplit(){this.dialogSplit=!1},closeMaintain(){this.dialogMaintain=!1},closeReceive(){this.dialogReceive=!1},closeSend(){this.dialogSend=!1}}},Z=K,tt=a("0789"),et=a("8414"),at=a("1e06"),it=Object(o["a"])(Z,J,X,!1,null,null,null);it.options.__file="Trace.vue";var st=it.exports;m()(it,{VBtn:N["a"],VCard:q["a"],VCardActions:$["a"],VCardText:$["b"],VCardTitle:V["a"],VContainer:E["a"],VDialog:P["a"],VFlex:B["a"],VLayout:A["a"],VSelect:j["a"],VSlideXTransition:tt["c"],VSpacer:F["a"],VTextField:L["a"],VTimeline:et["a"],VTimelineItem:at["a"]});var rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h3",[t._v(t._s(t.value))]),a("qrcode-vue",{attrs:{value:t.value,size:t.size,type:t.URL,level:"L"}}),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.shipDialog,callback:function(e){t.shipDialog=e},expression:"shipDialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.close(e)}}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"blue darken-1",flat:""},nativeOn:{click:function(e){return t.shipOrg(e)}}},[t._v("Submit")])],1)],1)],1)],1)},dt=[],nt={data(){return{value:"http://localhost:8080/trace/"+this.$route.params.orgid+"/"+this.$route.params.ownerorgid+"/"+this.$route.params.truid,size:200,orgs:["ORG1","ORG2","ORG3","ORG4","ORG5","ORG6"],shipDialog:!1}},methods:{async shipOrg(){const t=O.updateTRU(this.$route.params.truid,"ReleaseFlag",this.$route.params.orgid,this.$route.params.ownerorgid);this.response=t,this.close()},close(){this.shipDialog=!1}},components:{QrcodeVue:f["a"]}},lt=nt,ot=Object(o["a"])(lt,rt,dt,!1,null,null,null);ot.options.__file="QR.vue";var ct=ot.exports;m()(ot,{VBtn:N["a"],VCard:q["a"],VCardActions:$["a"],VCardTitle:V["a"],VDialog:P["a"],VSpacer:F["a"]}),i["a"].use(b["a"]);var mt=new b["a"]({mode:"history",base:"/",routes:[{path:"/:orgid",name:"listParts",component:Y,props:t=>({orgid:t.params.orgid})},{path:"/trace/:orgid/:ownerorgid/:truid",name:"Trace",component:st,props:t=>({orgid:t.params.orgid,ownerorgid:t.params.ownerorgid,truid:t.params.truid})},{path:"/qr/:orgid/:ownerorgid/:truid",name:"QR",component:ct,props:t=>({orgid:t.params.orgid,ownerorgid:t.params.ownerorgid,truid:t.params.truid})},{path:"/create",name:"create",component:y}]});i["a"].config.productionTip=!1,new i["a"]({router:mt,render:t=>t(h)}).$mount("#app")}});
//# sourceMappingURL=app.39c78744.js.map